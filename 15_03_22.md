# Лекция 15.03.2022
## Реляционная алгебра
Объект - отношение. Есть атрибуты и кортежи записи, бинарные и унарные операции. Реляционная алгебра является замкнутой. 
### Операции:
1. __Проекция__ Π<sub>a<sub>1</sub></sub>,<sub>a<sub>2</sub></sub>,...,<sub>a<sub>n</sub></sub>(R). Определяет новые отношения, содержащие вертикальные подмножества исходного отношения, создаваемые посредством извлечения значений указанных атрибутов и исключения из результата строк дубликатов.
2. __Выборка__ σ<sub>предикат</sub>(R). Определяет результирующие отношения, которые содержат только те кортежи из исходного отношения, которые удовлетворяют заданному условию (предикату).
3. __Объединение__ R ⋃ S. Определяет новые отношения, которые включают все кортежи, содержащиеся только в R, все кортежи, содержающиеся только в S и кортежи, содержащиеся одновременно и в R и в S, за исключением дубликатов. Два отношения R и S будут совместимы по объединению, когда они будут состоять из одинакового количества атрибутов, и каждая пара соответствующих атрибутов будет иметь одинаковый домен.
4. __Разность__ R - S. Результат - отношения, которые будут содержать кортежит, которые есть в отношении R, но отсутствуют в отношении S.
5. __Пересечение__ R ⋂ S. Результат - отношения, которые содержат кортежи, которые присутствуют как в отношении R, так и в отношении S.
6. __Декартово произведение__ R x S. Определяет новые отношения, которые являются результатом конкатенации каждого кортежа из отношения R с каждым отношением из отношения S.
7. __Тета соединение__ R ⧓<sub>F</sub> S, F=R.a<sub>i</sub> Θ S.b<sub>i</sub>, Θ ∈ {<, <=, =, >, ...}. Определяет новые отноешния, котторые содержат кортежи изз декартового произведения отношений кортежей R и S, удовлетворяющие предикату F.
8. __Естественное соединение__ R ⧓ S. Соединение по эквивалентности двух отношений, выполненная по всем общим атрибутам, из результатов которого исключаются по одному результату из каждого общего атрибута.
9. __Левое внешнее соединение__ R ⊃⯇ S. Тета соединение, при котором в результирующие отношения включаются также кортежи отношения R, не имеющие совпадающих значений в общих столбцах отношения S.
10. __Полусоединение__ R ⯈<sub>F</sub> S. Отношения включают в себя те кортежи из R, которые входят в соединение R и S.

Пример запроса:\
```sql
SELECT [DISTINCT|ALL] {*|[ColumnExpression [AS NewName]], [...]}
FROM TableName [As NewName] [{INNER|LEFT OUTER|FULL} JOIN Table2 [AS NewName] ON condition]
[WHERE condition]
[GROUP BY ColumnList] [HAVING condition]
[ORDER BY ColumnList [ASC|DESC]]                                                                                       
```
Порядок выполнения:\
FROM -> [JOIN...ON] -> [WHERE] -> [GROUP BY] -> [HAVING] -> SELECT -> [DISTINCT] -> [ORDER BY]
